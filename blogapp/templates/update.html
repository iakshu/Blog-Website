{% extends "base.html" %}

{% block content %} 			

	<main style="background: none !important; background-color: white !important; ">
		<div class="container" style="margin-top: 7rem !important;">
			<form class="form-add row g-3" action="" method="POST" novalidate>
				{% csrf_token %}
				<div class="row">
					<div class="col-1 d-none d-md-block"></div>
					<div class="col-12 col-md-8 mt-2">
						<div class="glass-dark p-2">
							<div class="col-12 mb-2">
								<input type="text" class="form-control" name="title" id="title" placeholder="Post Title" value="{{ fm.title.value }}" autocomplete="off" required>
								{% if fm.titile.errors %}      
									<div class="invalid-feedback"> 
										{% for err in fm.titile.errors %}
											{{err}} 
										{% endfor %}
									</div>		
								{% else %}
									<div class="valid-feedback"> Looks good! </div>
								{% endif %} 
								<hr class="mt-0">
							</div>
							<div class="col-12 mb-2">
								{{ fm.author}}
								{{ fm.body }}
								{{ fm.media }} 
							</div>
						</div>
						<div class="d-block d-md-none glass-dark mt-2 p-2">
							<div class="col-12 d-grid gap-2">
								<button class="btn btn-primary" type="submit">Publish</button>
								<a class="btn btn-danger" href="{% url 'home' %}">Cancel</a>
							</div>
						</div>	
					</div>
					<div class="col-3 d-none d-md-block glass-dark p-2">
						<div class="position-sticky">
							<div class="card">
								<img src="/static/media/BG1_Light.jpg" class="card-img-top" alt="...">
								<div class="card-body">
									<h6 class="card-title d-flex justify-content-center m-0 p-0">
										{% if user.first_name %}
											{{user.first_name}} {{user.last_name}}
										{% else %}
											{{user.username}}
										{% endif %}
									</h6>
								</div>
							</div>
							<div class="col-12 mt-2 d-grid gap-2">
								<button class="btn btn-primary" type="submit">Publish</button>
								<a class="btn btn-danger" href="{% url 'home' %}">Cancel</a>
							</div>									
						</div>
					</div>
				</div>
			</form>
		</div>
	</main>

{% endblock content %} 

{% block script %} 
	<script type="text/javascript">
		var id = "{{ user.id }}";
		document.getElementById("author").value = id;
	</script>
{% endblock script %}